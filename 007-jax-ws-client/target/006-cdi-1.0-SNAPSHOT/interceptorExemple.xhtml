<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:dav="http://xmlns.jcp.org/jsf/composite/dav">
    <ui:composition template="templates/base.xhtml">
        <ui:define name="title">Exemple d'interceptor autour d'une méthode</ui:define>
        <ui:define name="content">
            <p>Ici la méthode appelée lors du clic sur le bouton est annotée ,
                par un intercepteur personnalisé : @Audited qui a pour but de 
                logger un message avant et après l'exécution de la méthode</p>
            <p>Cela permet de réduire cette tâche répétitive à l'ajout de 
                l'annotation @Audited devant la méthode</p>
            <dav:exemple value="#{exemples.methodeAnnoteeInterceptor}"/>
            <p>Pour définir un interceptor, il faut déclarer un interceptor 
                binder de la façon suivante :</p>
            <dav:exemple value="#{exemples.interceptorBinder}"/>
            <p>Il faut également déclarer une implémentation pour l'interceptor 
                de la façon suivante :</p>
            <dav:exemple value="#{exemples.interceptorImplementation}"/>
            <p>Ici lorsque le bouton est appuyé, regarder les logs applicatifs générés</p>
            <h:form>
                <h:outputLabel for="text" value="text"/>
                <h:inputText id="text" binding="#{text}"/>
                <h:outputLabel for="text2" value="text2"/>
                <h:inputText id="text2" binding="#{text2}"/>
                <h:commandButton actionListener="#{hello.helloWorld(text.value,text2.value)}"
                                 value="hello"/>
            </h:form>
            <p><h:link outcome="/index">Retour</h:link></p>
        </ui:define>    
    </ui:composition>
</html>

